<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
  <meta name="generator" content="Hugo 0.84.0">
  <title>Chess Tournament</title>

  <link rel="canonical" href="https://getbootstrap.com/docs/5.0/examples/dashboard/">

  <!-- Bootstrap core CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

  <style>
    .bd-placeholder-img {
      font-size: 1.125rem;
      text-anchor: middle;
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
    }

    @media (min-width: 768px) {
      .bd-placeholder-img-lg {
        font-size: 3.5rem;
      }
    }
  </style>

  <!-- Custom styles for this template -->
  <link href="/dashboard.css" rel="stylesheet">
</head>
<body>
  
<header class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow">
<a class="navbar-brand col-md-3 col-lg-2 me-0 px-3" href="/index.html">Murfreesboro Chess Club</a>
<button class="navbar-toggler position-absolute d-md-none collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
  <span class="navbar-toggler-icon"></span>
</button>
<div class="navbar-nav">
</div>
</header>

<div class="container-fluid">
<div class="row">
  <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
    <div class="position-sticky pt-3">
      <ul class="nav flex-column">
        <li class="nav-item">
          <a class="nav-link" aria-current="page" href="/">
            <span data-feather="home"></span>
            Home
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/searchPlayer">
            <span data-feather="search"></span>
            Search Player
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="/addSection">
            <span data-feather="search"></span>
            Add Sections
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" aria-current="page" href="/tournament">
            <span data-feather="play"></span>
            Tournament
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/scoreReport">
            <span data-feather="bar-chart-2"></span>
            Score Report
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/prizeMoney">
            <span data-feather="shopping-cart"></span>
            Prize Money
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/dbfGenerator">
            <span data-feather="file"></span>
            DBF Generator
          </a>
        </li>

      </ul>
    </div>
  </nav>

  <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
      <h1 class="h2">Add Sections</h1>
      <div>
        <label for="sectionAmount">Number of Sections:</label>
        <select id="sectionAmount" onchange="updateSections()">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <!-- Add more options as needed -->
        </select>
      </div>
    </div>
    <div id="playersList"></div>
  </main>
</div>
</div>

<script>
  let sections = 1; // Default to 1 section
  let players = []; // Declare players array

  // Function to update the number of sections
  function updateSections() {
      sections = parseInt(document.getElementById('sectionAmount').value);
      displayPlayers();
  }

  // Function to display players based on the selected number of sections
  function displayPlayers() {
      const playersList = document.getElementById('playersList');
      playersList.innerHTML = ''; // Clear previous content

      for (let i = 0; i < sections; i++) {
          const sectionHeader = document.createElement('h2');
          sectionHeader.textContent = `Section ${i + 1}`;
          playersList.appendChild(sectionHeader);

          const sectionPlayers = document.createElement('ul');
          sectionPlayers.classList.add('list-group');

          // Assuming players array contains objects with 'name' and 'rating' properties
          for (const player of players) {
              const listItem = document.createElement('li');
              listItem.classList.add('list-group-item');
              const playerName = document.createElement('span');
              playerName.textContent = `${player.fname} ${player.lname} - ${player.rating}`;
              listItem.appendChild(playerName);

              // Add buttons to switch players between sections
              const switchSectionButton = document.createElement('button');
              switchSectionButton.textContent = 'Switch Section';
              switchSectionButton.classList.add('btn', 'btn-sm', 'btn-primary', 'ms-2');
              switchSectionButton.onclick = () => switchPlayerSection(player, i);
              listItem.appendChild(switchSectionButton);

              sectionPlayers.appendChild(listItem);
          }

          playersList.appendChild(sectionPlayers);
      }
  }

  // Function to switch a player between sections
  function switchPlayerSection(player, targetSection) {
      const playerIndex = players.indexOf(player);
      if (playerIndex !== -1) {
          players[playerIndex].section = targetSection;
          displayPlayers();
      }
  }

  // Fetch sample player data
  fetch('/getSamplePlayers')
      .then(response => response.json())
      .then(data => {
          // Set the players array to the received sample players data
          players = data.map(player => ({...player, section: 0})); // Add 'section' property to each player
          // Now you can proceed with displaying the players based on the initial section amount
          displayPlayers();
      })
      .catch(error => console.error('Error fetching sample player data:', error));

</script>

<script src="https://cdn.jsdelivr.net/npm/feather-icons@4.28.0/dist/feather.min.js" integrity="sha384-uO3SXW5IuS1ZpFPKugNNWqTZRRglnUJK6UAZ/gxOX80nxEkN9NcGZTftn6RzhGWE" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js" integrity="sha384-zNy6FEbO50N+Cg5wap8IKA4M/ZnLJgzc6w2NqACZaK0u0FXfOWRRJOnQtpZun8ha" crossorigin="anonymous"></script>
</body>
</html>